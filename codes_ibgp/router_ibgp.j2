hostname {{ name }}
!
ipv6 unicast-routing
!
! Interface configurations
{% for iface in interfaces %}
interface {{ iface.name }}
 ipv6 address {{ iface.ip }}/{{ iface.prefix }}
 ipv6 enable
 no shutdown
!
{% endfor %}
! iBGP configuration
router bgp {{ asn }}
 bgp router-id {{ router_id }}
 bgp log-neighbor-changes
!
{% for neighbor in neighbors %}
 neighbor {{ neighbor.ip }} remote-as {{ asn }}
 neighbor {{ neighbor.ip }} description to_{{ neighbor.name }}
{% endfor %}
!
address-family ipv6 unicast
{% for neighbor in neighbors %}
  neighbor {{ neighbor.ip }} activate
{% endfor %}
  redistribute connected
 exit-address-family

end
write memory
